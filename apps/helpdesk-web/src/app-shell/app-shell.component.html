<app-header title={{title}} (menuClick)="toggleDrawer()" (requestAssistance)="assistanceRequestHandler()"
  (loginClick)="loginHandler()" (searchInput)="searchHandler($event)"></app-header>

<div class="mx-auto max-w-7xl px-4">
  <div class="flex gap-4">
    <!-- Desktop Sidebar -->
    <ui-aside class="hidden lg:block w-64 shrink-0" [class.collapsed]="isSidebarCollapsed">
      <app-nav-menu [navItem]="nav" [isSidebarCollapsed]="isSidebarCollapsed"
        (itemClicked)="toggleDrawer()"></app-nav-menu>
    </ui-aside>
  </div>

  <app-content></app-content>
</div>
<!-- Mobile Drawer -->
@if(isDrawerOpened) {
<div class="fixed inset-0 z-50 lg:hidden">
  <!-- overlay -->
  <ui-button variant="ghost" class="md" (click)="toggleDrawer()" (keydown.escape)="toggleDrawer()"
    aria-label="Close menu"></ui-button>

  <!-- panel -->
  <div class="absolute left-0 top-0 h-full w-80 max-w-[85vw] bg-ui-surface border-r border-ui-border p-4">
    <div class="flex items-center justify-between mb-4">
      <div class="font-semibold">Menu</div>
      <ui-button variant="ghost" class="md" (click)="toggleDrawer()" aria-label="Close menu">
        âœ•
      </ui-button>
    </div>
    <nav class="space-y-1">
      @for (item of nav; track $index) {
      <a [routerLink]="item.link" class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-ui-surfaceAlt"
        (click)="toggleDrawer()">
        <span class="text-lg leading-none">{{ item.icon }}</span>
        <span class="text-sm font-medium">{{ item.label }}</span>
      </a>
      }
    </nav>
  </div>
</div>
}
<app-footer></app-footer>